<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>봉사모임</title>

<style>
  body{
    margin:0;
    background:#5fd0e8;
    font-family: Arial, sans-serif;
  }
  .box{
    width: 92vw;
    max-width: 360px;
    margin: 0 auto;
    min-height: 100svh;
    padding-top: 26px;
    padding-bottom: 20px;
    text-align:center;
  }
  h1{font-size:26px;margin:0 0 6px 0;}
  .sub{font-size:16px;font-weight:bold;margin-bottom:18px;}
  .btn{
    border:2px solid #000;
    padding:14px;
    font-size:20px;
    font-weight:bold;
    margin:12px 0;
    cursor:pointer;
    background:none;
  }
  .footer{margin-top:18px;font-size:18px;font-weight:bold;}
</style>
</head>

<body>
<div class="box">
  <h1 id="title">로딩중...</h1>
  <div class="sub" id="subtitle"></div>

  <div id="btnArea"></div>

  <div class="footer" id="footer"></div>
</div>

<!-- ✅ 설정파일 불러오기 (서버 없이도 가능) -->
<script src="./config.js"></script>

<script>
function openLink(url){
  const mode = (window.LAUNCHER_CONFIG?.openMode || "newtab");
  if(mode === "same") location.href = url;
  else window.open(url, "_blank");
}

(function init(){
  const cfg = window.LAUNCHER_CONFIG;

  // 제목 처리: "전국 봉사모임 (서울 종로지부)" 형태면 줄 나누기
  const titleEl = document.getElementById("title");
  const subEl = document.getElementById("subtitle");

  if(cfg.title.includes("(") && cfg.title.includes(")")){
    const main = cfg.title.split("(")[0].trim();
    const sub = "(" + cfg.title.split("(")[1];
    titleEl.textContent = main;
    subEl.textContent = sub;
  }else{
    titleEl.textContent = cfg.title;
    subEl.textContent = "";
  }

  document.getElementById("footer").textContent = cfg.footer || "";

  const area = document.getElementById("btnArea");
  area.innerHTML = "";

  cfg.buttons.forEach(b=>{
    const div = document.createElement("div");
    div.className = "btn";
    div.textContent = "☞ " + b.label;
    div.onclick = ()=> openLink(b.url);
    area.appendChild(div);
  });
})();
</script>

</body>
</html>
